# Server Configuration
NODE_ENV=development
DISABLE_AUTH=false
PORT=3000
LOG_LEVEL=info
CORS_ORIGIN=

# Supabase
SUPABASE_KEY=

# Database
# DATABASE_URL: Transaction Pooler de Supabase (puerto 6543)
#   - Óptimo para requests web de corta duración (writes + reads críticas)
#   - Se recomienda pgbouncer=true&connection_limit=1 para lambdas/serverless o procesos con autoscaling agresivo
DATABASE_URL=postgresql://user:pass@host.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1

# DIRECT_URL: Session Pooler (puerto 5432) o conexión directa
#   - Recomendado para: jobs cron, migraciones, operaciones de larga duración
#   - Más estable para conexiones que se inician periódicamente
#   - Ejemplo: postgresql://user:pass@host.supabase.co:5432/postgres
DIRECT_URL=

# DATABASE_URL_REPLICA: Session Pooler de la réplica de lectura (puerto 5432) — OPCIONAL
#   - Solo lectura: dashboard, reportes, accounts/statement, sorteos/evaluated-summary
#   - Si no se configura, el sistema usa DATABASE_URL (primary) como fallback sin errores
#   - Usar session mode (puerto 5432) para soportar queries analíticas largas y SET LOCAL
#   - Ejemplo: postgresql://postgres.PROJECT_REF-rr-REGION:pass@aws-X-REGION.pooler.supabase.com:5432/postgres
DATABASE_URL_REPLICA=

# JWT
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=
JWT_ACCESS_EXPIRES_IN=60m
JWT_REFRESH_EXPIRES_IN=7d

# Redis Cache (opcional)
CACHE_ENABLED=false
REDIS_URL=
REDIS_TOKEN=
CACHE_TTL_CUTOFF=300
CACHE_TTL_RESTRICTIONS=300

# Business Rules
SALES_DAILY_MAX=100000
MULTIPLIER_BASE_DEFAULT_X=90

# Transaction Settings
TX_MAX_RETRIES=3
TX_BACKOFF_MIN_MS=250
TX_BACKOFF_MAX_MS=600

# APK Auto-Update Configuration
API_BASE_URL=http://localhost:3000
APP_VERSION=2.0.0
APP_VERSION_CODE=3
APP_BUILD_NUMBER=20251211001
APP_CHANGELOG=Correcciones visuales y mejoras de rendimiento
APP_RELEASED_AT=2025-12-11T20:00:00Z
APP_MIN_SUPPORTED_VERSION=2.0.0
APP_FORCE_UPDATE=false